<!DOCTYPE html>
<html>
<head>
  <title>Transistor Tester Simulator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root {
      --bg: #020617;
      --card: #0b1120;
      --card-soft: #020617;
      --accent: #22c55e;
      --danger: #f97373;
      --border: #1f2937;
      --text-main: #e5e7eb;
      --text-muted: #9ca3af;
      --heading: #facc15;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      padding: 16px;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
      background: radial-gradient(circle at top, #1e293b 0, #020617 55%, #000 100%);
      color: var(--text-main);
    }

    h1, h2, h3 { margin: 0 0 8px 0; }

    .app-wrapper {
      max-width: 1000px;
      margin: 0 auto;
      background: rgba(15, 23, 42, 0.95);
      border-radius: 18px;
      border: 1px solid #111827;
      padding: 18px 16px 24px;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(8px);
    }

    .app-header {
      text-align: center;
      margin-bottom: 12px;
    }

    .badge {
      display: inline-block;
      font-size: 11px;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      background: rgba(15, 118, 110, 0.18);
      color: #5eead4;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(45, 212, 191, 0.2);
      margin-bottom: 4px;
    }

    .title { font-size: 22px; font-weight: 700; color: #e5e7eb; }
    .subtitle { font-size: 13px; color: var(--text-muted); }

    .landing-intro {
      margin-top: 10px;
      margin-bottom: 16px;
      background: #020617;
      border-radius: 16px;
      border: 1px solid #1f2937;
      padding: 12px 12px 14px;
      font-size: 13px;
    }

    .landing-meta {
      color: var(--text-muted);
      font-size: 12px;
      margin-bottom: 6px;
    }

    .landing-buttons {
      margin-top: 8px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .layout {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      margin-top: 12px;
    }

    .card {
      background: var(--card);
      border-radius: 14px;
      border: 1px solid var(--border);
      padding: 14px 12px;
      flex: 1 1 260px;
      min-width: 0;
    }

    label {
      font-size: 12px; color: var(--text-muted); display: block; margin-bottom: 3px;
    }

    select {
      width: 100%;
      padding: 6px 9px;
      border-radius: 8px;
      border: 1px solid #374151;
      background: var(--card-soft);
      color: var(--text-main);
      font-size: 13px;
      margin-bottom: 8px;
    }

    button {
      border: none;
      cursor: pointer;
      border-radius: 999px;
      padding: 7px 14px;
      font-size: 13px;
      font-weight: 600;
      margin-right: 6px;
      margin-top: 4px;
    }

    .btn-primary {
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: #022c22;
    }

    .btn-secondary {
      background: #111827;
      color: var(--text-main);
      border: 1px solid #374151;
    }

    .btn-print {
      background: #0f172a;
      color: #e5e7eb;
      border: 1px solid #4b5563;
    }

    .meter-display {
      font-family: monospace;
      font-size: 20px;
      font-weight: 600;
      color: #facc15;
      padding: 5px;
    }

    .top-actions {
      margin: 4px 0 8px;
      display: flex;
      justify-content: flex-end;
      gap: 8px;
    }

    /* Pins layout with animation */
    .pins-layout {
      display: flex;
      justify-content: space-around;
      align-items: center;
      margin-bottom: 6px;
      background: #020617;
      border-radius: 10px;
      padding: 8px 6px;
      border: 1px solid #111827;
    }

    .pin {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      font-size: 11px;
      color: #9ca3af;
    }

    .pin-circle {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      border: 2px solid #4b5563;
      background: #020617;
      transition: 0.2s;
    }

    .pin-pos {
      border-color: #f97316;
      box-shadow: 0 0 8px rgba(249, 115, 22, 0.8);
      animation: pulsePos 0.4s;
    }

    .pin-neg {
      border-color: #22d3ee;
      box-shadow: 0 0 8px rgba(34, 211, 238, 0.8);
      animation: pulseNeg 0.4s;
    }

    @keyframes pulsePos {
      0% { transform: scale(1); }
      50% { transform: scale(1.25); }
      100% { transform: scale(1); }
    }

    @keyframes pulseNeg {
      0% { transform: scale(1); }
      50% { transform: scale(1.25); }
      100% { transform: scale(1); }
    }

    #feedback {
      font-size: 12px;
      white-space: pre-line;
      margin-top: 8px;
      padding: 8px;
      border-radius: 10px;
      background: #020617;
      border: 1px solid #1f2937;
      color: #e5e7eb;
    }

    .circuit-diagram-box {
      margin-top: 10px;
      padding: 8px;
      border-radius: 10px;
      background: #020617;
      border: 1px solid #1f2937;
      font-size: 11px;
      color: var(--text-muted);
    }

    .circuit-diagram-box svg {
      width: 100%;
      max-width: 220px;
      display: block;
      margin: 4px auto;
    }

    .theory-card, .report-card {
      margin-top: 18px;
      background: #020617;
      border-radius: 14px;
      border: 1px solid #1f2937;
      padding: 14px 12px;
      font-size: 13px;
    }

    .theory-card h2, .report-card h2 { margin-bottom: 6px; }
    .theory-card h3, .report-card h3 { color: #38bdf8; margin-top: 10px; margin-bottom: 4px; }

    .pill-table {
      border-collapse: collapse;
      margin-top: 6px;
      font-size: 12px;
    }

    .pill-table th, .pill-table td {
      border: 1px solid #4b5563;
      padding: 4px 8px;
    }

    .pill-table th { background: #111827; }

    @media print {
      body {
        background: #ffffff;
      }
      .app-wrapper {
        box-shadow: none;
        border-radius: 0;
        background: #ffffff;
        color: #000000;
      }
      .badge, .btn-primary, .btn-secondary, .btn-print, .landing-intro {
        display: none !important;
      }
      .theory-card, .report-card {
        border: 1px solid #000;
      }
    }
  </style>
</head>
<body>

  <div class="app-wrapper" id="printArea">
    <!-- HEADER -->
    <div class="app-header">
      <div class="badge">Virtual Electronics Lab ‚Ä¢ BJT Testing</div>
      <div class="title">Transistor Tester Simulator</div>
      <div class="subtitle">
        Interactive tool to identify transistor type, pinout & faults using virtual multimeter readings.
      </div>
    </div>

    <!-- LANDING / INTRO -->
    <div class="landing-intro">
      <div class="landing-meta">
        <b>Mini Project:</b> Transistor Tester Simulator (BJT Identification & Fault Analysis)
        <br>
        <b>Group:</b> F3-4 (Shock Squad) &nbsp;|&nbsp; <b>Course:</b> FY B.Tech ENTC
      </div>
      <p>
        This simulator models a laboratory experiment where a Bipolar Junction Transistor (BJT)
        is tested using a multimeter in diode mode. The user places virtual probes on pins,
        observes readings (0.65 V / 0.68 V / OL / short), and then identifies:
      </p>
      <ul style="margin-top:4px; padding-left:18px;">
        <li>Transistor type: NPN or PNP</li>
        <li>Base, Collector, Emitter pins</li>
        <li>Presence of common faults (open base, C‚ÄìE short) in hard mode</li>
      </ul>
      <div class="landing-buttons">
        <button class="btn-primary" onclick="startSimulation()">‚ñ∂ Start Simulation</button>
        <button class="btn-secondary" onclick="openReport()">üìÑ View Project Report</button>
        <button class="btn-print" onclick="window.print()">üñ® Print / Save as PDF</button>
      </div>
    </div>

    <!-- SIMULATOR + THEORY + REPORT -->
    <div id="simContainer" style="display:none; margin-top:6px;">

      <div class="top-actions">
        <button class="btn-print" onclick="window.print()">Print / Save Scorecard (PDF)</button>
      </div>

      <div class="layout">
        <!-- LEFT PANEL -->
        <div class="card">
          <h3>Multimeter & Probes</h3>

          <!-- Animated pins -->
          <div class="pins-layout">
            <div class="pin">
              <div class="pin-circle" id="pin1"></div>
              <div>Pin 1</div>
            </div>
            <div class="pin">
              <div class="pin-circle" id="pin2"></div>
              <div>Pin 2</div>
            </div>
            <div class="pin">
              <div class="pin-circle" id="pin3"></div>
              <div>Pin 3</div>
            </div>
          </div>

          <label>Positive (red) probe</label>
          <select id="pos">
            <option value="1">Pin 1</option>
            <option value="2">Pin 2</option>
            <option value="3">Pin 3</option>
          </select>

          <label>Negative (black) probe</label>
          <select id="neg">
            <option value="1">Pin 1</option>
            <option value="2">Pin 2</option>
            <option value="3">Pin 3</option>
          </select>

          <button class="btn-primary" onclick="takeReading()">Measure</button>
          <div class="meter-display" id="reading">--</div>

          <!-- Simple circuit diagram graphic -->
          <div class="circuit-diagram-box">
            <div><b>Approximate BJT symbol (for concept)</b></div>
            <svg viewBox="0 0 200 100">
              <!-- Circle for transistor body -->
              <circle cx="100" cy="50" r="18" stroke="#6b7280" fill="none" stroke-width="2"/>
              <!-- Collector line -->
              <line x1="100" y1="32" x2="100" y2="10" stroke="#9ca3af" stroke-width="2"/>
              <text x="104" y="15" fill="#9ca3af" font-size="10">C</text>
              <!-- Base line -->
              <line x1="82" y1="50" x2="55" y2="50" stroke="#9ca3af" stroke-width="2"/>
              <text x="50" y="54" fill="#9ca3af" font-size="10">B</text>
              <!-- Emitter line -->
              <line x1="100" y1="68" x2="100" y2="90" stroke="#9ca3af" stroke-width="2"/>
              <text x="104" y="88" fill="#9ca3af" font-size="10">E</text>
              <!-- Arrow on emitter (NPN style) -->
              <line x1="100" y1="80" x2="112" y2="92" stroke="#22c55e" stroke-width="2"/>
              <polygon points="112,92 107,90 110,87" fill="#22c55e"/>
            </svg>
            <div style="margin-top:4px;">
              Note: Symbol helps relate pins B, C, E to the 3-pin package.
            </div>
          </div>
        </div>

        <!-- RIGHT PANEL -->
        <div class="card">
          <h3>Your Guess & Score</h3>

          <label>Mode</label>
          <select id="mode" onchange="newTransistor()">
            <option value="normal">Normal (no faults)</option>
            <option value="hard">Hard (faults enabled)</option>
          </select>

          <label>Type</label>
          <select id="typeGuess">
            <option value="NPN">NPN</option>
            <option value="PNP">PNP</option>
          </select>

          <label>Base pin</label>
          <select id="baseGuess">
            <option value="1">Pin 1</option>
            <option value="2">Pin 2</option>
            <option value="3">Pin 3</option>
          </select>

          <label>Collector pin</label>
          <select id="collectorGuess">
            <option value="1">Pin 1</option>
            <option value="2">Pin 2</option>
            <option value="3">Pin 3</option>
          </select>

          <label>Emitter pin</label>
          <select id="emitterGuess">
            <option value="1">Pin 1</option>
            <option value="2">Pin 2</option>
            <option value="3">Pin 3</option>
          </select>

          <label>Fault type (for hard mode)</label>
          <select id="faultGuess">
            <option value="none">No fault (OK)</option>
            <option value="open_base">Open base</option>
            <option value="short_ce">C‚ÄìE short</option>
          </select>

          <button class="btn-primary" onclick="checkAnswer()">Submit Guess</button>
          <button class="btn-secondary" onclick="newTransistor()">New Transistor</button>

          <h3>Score</h3>
          <p id="roundScore">Round Score: <span>0</span></p>
          <p id="totalScore">Total Score: <span>0</span></p>

          <div id="feedback"></div>
        </div>
      </div>

      <!-- THEORY SECTION -->
      <div class="theory-card">
        <h2>üìò THEORY & FAULT ANALYSIS</h2>

        <h3>üîπ Basic Idea</h3>
        <p>BJT behaves like two diodes joined at the Base.</p>
        <p><b>NPN:</b> Base positive ‚Üí conduction from B‚ÜíC / B‚ÜíE.<br>
           <b>PNP:</b> Base negative ‚Üí conduction from B‚ÜíC / B‚ÜíE.</p>

        <h3>üîπ Multimeter (Diode Test) ‚Äì Healthy</h3>
        <ul>
          <li>Base‚ÄìEmitter forward drop ‚âà <b>0.65 V</b></li>
          <li>Base‚ÄìCollector forward drop ‚âà <b>0.68 V</b></li>
          <li>Reverse-biased or open ‚Üí <b>OL</b></li>
          <li>Collector‚ÄìEmitter behaves open ‚Üí <b>OL</b></li>
        </ul>

        <table class="pill-table">
          <tr><th>Type</th><th>Forward Conduction Condition</th></tr>
          <tr><td>NPN</td><td>Base positive w.r.t. C/E</td></tr>
          <tr><td>PNP</td><td>Base negative w.r.t. C/E</td></tr>
        </table>

        <h3>üîπ Identification Strategy (Healthy)</h3>
        <p>1Ô∏è‚É£ Find the pin that shows diode conduction to both other pins ‚Üí that pin is <b>Base</b>.<br>
           2Ô∏è‚É£ If conduction happens when Base is positive ‚Üí <b>NPN</b>.<br>
           3Ô∏è‚É£ If conduction happens when Base is negative ‚Üí <b>PNP</b>.<br>
           4Ô∏è‚É£ Compare the two forward drops:
              smaller (~0.65 V) ‚Üí <b>B‚ÄìE</b>, slightly higher (~0.68 V) ‚Üí <b>B‚ÄìC</b>.</p>

        <h3>‚ö† Fault Analysis (Hard Mode)</h3>

        <p><b>1) Open Base Fault</b></p>
        <ul>
          <li>Base‚ÄìEmitter and Base‚ÄìCollector junctions are broken.</li>
          <li>Any measurement involving B gives <b>OL</b>.</li>
          <li>C‚ÄìE still behaves as open (<b>OL</b>).</li>
          <li>No pin behaves like a proper Base ‚Üí strong sign of open-base fault.</li>
        </ul>

        <p><b>2) Collector‚ÄìEmitter (C‚ÄìE) Short</b></p>
        <ul>
          <li>Internally C and E are shorted (like a wire).</li>
          <li>Between C and E you see ‚âà <b>0.00 V</b> in both directions.</li>
          <li>Transistor cannot block current ‚Üí behaves as permanent short.</li>
        </ul>

        <h3>üìä Quick Comparison</h3>
        <table class="pill-table">
          <tr>
            <th>Condition</th>
            <th>B‚ÄìC / B‚ÄìE</th>
            <th>C‚ÄìE</th>
            <th>Key Symptom</th>
          </tr>
          <tr>
            <td>Healthy</td>
            <td>B‚ÄìE ‚âà 0.65 V<br>B‚ÄìC ‚âà 0.68 V</td>
            <td>OL</td>
            <td>Base clearly identifiable + C/E distinguishable by V<sub>F</sub></td>
          </tr>
          <tr>
            <td>Open Base</td>
            <td>OL everywhere involving B</td>
            <td>OL</td>
            <td>Base cannot be identified</td>
          </tr>
          <tr>
            <td>C‚ÄìE Short</td>
            <td>May look normal or odd</td>
            <td>0.00 V both ways</td>
            <td>Permanent short between C and E</td>
          </tr>
        </table>
      </div>

      <!-- PROJECT REPORT SECTION -->
      <div class="report-card" id="report">
        <h2>üìÑ Project Report (Embedded Summary)</h2>

        <h3>1. Aim</h3>
        <p>
          To design and implement a web-based Transistor Tester Simulator that uses
          virtual multimeter readings to identify the type (NPN/PNP), terminals
          (Base, Collector, Emitter) and common faults (open base, C‚ÄìE short) of a BJT.
        </p>

        <h3>2. Objectives</h3>
        <ul>
          <li>To simulate multimeter diode-test behaviour for BJTs.</li>
          <li>To help students learn transistor identification through an interactive game.</li>
          <li>To include realistic fault conditions for troubleshooting practice.</li>
          <li>To provide on-screen theory and explanations suitable for viva and exams.</li>
        </ul>

        <h3>3. Tools & Platform</h3>
        <ul>
          <li>Front-end: HTML, CSS, JavaScript</li>
          <li>Hosting: GitHub Pages</li>
          <li>Test environment: Any modern web browser (Chrome / Edge / Firefox)</li>
        </ul>

        <h3>4. Methodology / Working</h3>
        <ol>
          <li>The program randomly generates a BJT as NPN or PNP with random B, C, E pin assignment.</li>
          <li>In hard mode, a fault may also be applied (open base or C‚ÄìE short).</li>
          <li>When the user selects positive and negative probe pins, the simulator:
            <ul>
              <li>Maps pin numbers to B/C/E internally.</li>
              <li>Applies diode-test rules (including 0.65/0.68 V drops) to calculate the reading.</li>
              <li>Displays 0.65 V, 0.68 V, OL or 0.00 V depending on type and fault.</li>
            </ul>
          </li>
          <li>From multiple readings, the user guesses type, base, collector, emitter and fault.</li>
          <li>The simulator checks the guess and awards marks for each correct part.</li>
        </ol>

        <h3>5. Algorithm (High-Level)</h3>
        <ol>
          <li>Start</li>
          <li>Randomly choose transistor type (NPN/PNP).</li>
          <li>Randomly assign pins 1, 2, 3 as B, C, E.</li>
          <li>If hard mode: randomly select fault type (none / open_base / short_ce).</li>
          <li>Wait for user probe selection (positive pin, negative pin).</li>
          <li>Determine pin roles (B/C/E) and check:
            <ul>
              <li>if C‚ÄìE short fault ‚Üí show 0.00 V for C‚ÄìE pair, both directions</li>
              <li>else if open-base fault and B involved ‚Üí show OL</li>
              <li>else apply normal NPN/PNP diode-test rule with:
                <br>‚Ä¢ B‚ÄìE ‚âà 0.65 V
                <br>‚Ä¢ B‚ÄìC ‚âà 0.68 V
              </li>
            </ul>
          </li>
          <li>Display reading on virtual meter.</li>
          <li>After user submits guess ‚Üí compare with actual values and compute score.</li>
          <li>Display result and allow new transistor generation.</li>
          <li>End</li>
        </ol>

        <h3>6. Result</h3>
        <p>
          The developed simulator successfully reproduces diode-test readings for both healthy
          and faulty BJTs. Users can correctly identify transistor type, base, collector and
          emitter, and can also detect open-base and C‚ÄìE short faults in hard mode.
        </p>

        <h3>7. Advantages</h3>
        <ul>
          <li>No physical hardware required ‚Äì runs in any web browser.</li>
          <li>Safe environment to practice without risk of damaging components.</li>
          <li>Supports both conceptual learning and fault-finding skills.</li>
          <li>Can be used as a demonstration tool in labs, online classes and viva.</li>
        </ul>

        <h3>8. Applications</h3>
        <ul>
          <li>Electronics / Electrical lab demonstration for BJT testing.</li>
          <li>Self-learning tool for students preparing for practical exams.</li>
          <li>Teaching aid for explaining multimeter diode mode behaviour.</li>
        </ul>

        <h3>9. Conclusion</h3>
        <p>
          The Transistor Tester Simulator meets the objective of converting a standard
          transistor-testing lab experiment into an interactive, gamified web application.
          It strengthens understanding of BJT structure, multimeter usage and basic
          troubleshooting techniques, and can be further extended with more device models
          (e.g., diodes, FETs, op-amps) in future.
        </p>

        <h3>10. Future Scope</h3>
        <ul>
          <li>Add support for different transistor packages and datasheet lookup.</li>
          <li>Include more fault types (leakage, partial shorts, noisy junctions).</li>
          <li>Extend simulator to cover other components like diodes and MOSFETs.</li>
          <li>Store user scores / attempts for assessment and analytics.</li>
        </ul>
      </div>
    </div> <!-- end simContainer -->
  </div> <!-- end app-wrapper -->


  <!-- JAVASCRIPT LOGIC -->
  <script>
    let t = {};
    let totalScore = 0;

    function startSimulation() {
      const sim = document.getElementById("simContainer");
      sim.style.display = "block";
      sim.scrollIntoView({ behavior: "smooth" });
      if (!window._simInit) {
        newTransistor();
        window._simInit = true;
      }
    }

    function openReport() {
      const sim = document.getElementById("simContainer");
      sim.style.display = "block";
      if (!window._simInit) {
        newTransistor();
        window._simInit = true;
      }
      const report = document.getElementById("report");
      report.scrollIntoView({ behavior: "smooth" });
    }

    function newTransistor() {
      const mode = document.getElementById("mode").value;
      const pins = [1, 2, 3].sort(() => Math.random() - 0.5);

      let fault = "none";
      if (mode === "hard") {
        const faultOptions = ["none", "open_base", "short_ce"];
        fault = faultOptions[Math.floor(Math.random() * faultOptions.length)];
      }

      t = {
        type: Math.random() < 0.5 ? "NPN" : "PNP",
        base: pins[0],
        collector: pins[1],
        emitter: pins[2],
        fault: fault
      };

      const reading = document.getElementById("reading");
      if (reading) reading.textContent = "--";
      const fb = document.getElementById("feedback");
      if (fb) fb.textContent = "";
      const rs = document.getElementById("roundScore");
      if (rs) rs.querySelector("span").textContent = "0";

      clearPinHighlights();
      console.log("Hidden transistor:", t);
    }

    function role(pin) {
      if (pin === t.base) return "B";
      if (pin === t.collector) return "C";
      if (pin === t.emitter) return "E";
    }

    function clearPinHighlights() {
      for (let i = 1; i <= 3; i++) {
        const el = document.getElementById("pin" + i);
        if (el) {
          el.classList.remove("pin-pos", "pin-neg");
        }
      }
    }

    function animatePins(pos, neg) {
      clearPinHighlights();
      const posEl = document.getElementById("pin" + pos);
      const negEl = document.getElementById("pin" + neg);
      if (posEl) posEl.classList.add("pin-pos");
      if (negEl) negEl.classList.add("pin-neg");
    }

    function takeReading() {
      const posSel = document.getElementById("pos");
      const negSel = document.getElementById("neg");
      if (!posSel || !negSel) return;

      const pos = Number(posSel.value);
      const neg = Number(negSel.value);

      animatePins(pos, neg);

      const posR = role(pos);
      const negR = role(neg);
      let result = "OL";

      const VF_BE = "0.65 V";
      const VF_BC = "0.68 V";

      if (pos === neg) {
        result = "0.00 (same pin)";
      } else if (
        t.fault === "short_ce" &&
        ((posR === "C" && negR === "E") || (posR === "E" && negR === "C"))
      ) {
        result = "0.00 V";
      } else if (t.fault === "open_base" && (posR === "B" || negR === "B")) {
        result = "OL";
      } else {
        if (t.type === "NPN" && posR === "B") {
          if (negR === "E") result = VF_BE;
          else if (negR === "C") result = VF_BC;
        }
        if (t.type === "PNP" && negR === "B") {
          if (posR === "E") result = VF_BE;
          else if (posR === "C") result = VF_BC;
        }
      }

      const reading = document.getElementById("reading");
      if (reading) reading.textContent = result;
    }

    function checkAnswer() {
      let score = 0;
      let msg = "";

      const typeSel  = document.getElementById("typeGuess");
      const baseSel  = document.getElementById("baseGuess");
      const colSel   = document.getElementById("collectorGuess");
      const emiSel   = document.getElementById("emitterGuess");
      const faultSel = document.getElementById("faultGuess");

      if (!typeSel || !baseSel || !colSel || !emiSel || !faultSel) return;

      const gType  = typeSel.value;
      const gBase  = Number(baseSel.value);
      const gCol   = Number(colSel.value);
      const gEmi   = Number(emiSel.value);
      const gFault = faultSel.value;

      if (gType === t.type) score += 20;
      else msg += "Wrong TYPE.\n";

      if (gBase === t.base) score += 20;
      else msg += "Wrong BASE.\n";

      if (gCol === t.collector && gEmi === t.emitter) score += 40;
      else msg += "Wrong COLLECTOR/EMITTER.\n";

      if (gFault === t.fault) score += 20;
      else msg += "Wrong FAULT type.\n";

      totalScore += score;

      const rs = document.getElementById("roundScore");
      const ts = document.getElementById("totalScore");
      if (rs) rs.querySelector("span").textContent = score;
      if (ts) ts.querySelector("span").textContent = totalScore;

      msg += `\nCorrect: type=${t.type}, B=${t.base}, C=${t.collector}, E=${t.emitter}, fault=${t.fault}`;
      const fb = document.getElementById("feedback");
      if (fb) fb.textContent = msg;
    }
  </script>

</body>
</html>
